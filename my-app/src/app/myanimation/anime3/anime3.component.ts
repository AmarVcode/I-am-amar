import { Component , AfterViewInit , ElementRef , Input , OnInit , ViewChild } from '@angular/core';
import * as THREE from 'three';

@Component({
  selector: 'app-anime3',
  templateUrl: './anime3.component.html',
  styleUrls: ['./anime3.component.scss']
})
export class Anime3Component implements OnInit, AfterViewInit  {

  @ViewChild('canvas')
  private canvasRef: any;

  //* Cube Properties

  @Input() public rotationSpeedX: number = 0.003;

  @Input() public rotationSpeedY: number = 0.001;
  @Input() public rotationSpeedZ: number = 0.003;

  @Input() public texture: string = "data:image/jpeg;base64,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"
  @Input() public size: number = 100;


  //* Stage Properties

  @Input() public cameraZ: number = 500;

  @Input() public fieldOfView: number = 1;

  @Input('nearClipping') public nearClippingPlane: number = 1;

  @Input('farClipping') public farClippingPlane: number = 1000;

  //? Helper Properties (Private Properties);

  private camera!: THREE.PerspectiveCamera;

  private get canvas(): HTMLCanvasElement {
    return this.canvasRef.nativeElement;
  }
  private loader = new THREE.TextureLoader();
  private geometry = new THREE.TorusGeometry(-3,1.5,20,300,10);
  private material = new THREE.MeshBasicMaterial({map: this.loader.load(this.texture) , wireframe:true});

  private cube: THREE.Mesh = new THREE.Mesh(this.geometry, this.material);

  private renderer!: THREE.WebGLRenderer;

  private scene!: THREE.Scene;

  /**
   *Animate the cube
   *
   * @private
   * @memberof CubeComponent
   */
  private animateCube() {
    this.cube.rotation.x += this.rotationSpeedX;
    this.cube.rotation.y += this.rotationSpeedY;
    this.cube.rotation.z += this.rotationSpeedZ;

  }

  /**
   * Create the scene
   *
   * @private
   * @memberof CubeComponent
   */
  private createScene() {
    //* Scene
    this.scene = new THREE.Scene();
    this.scene.background = new THREE.Color(0x000000)
    this.scene.add(this.cube);
    //*Camera
    let aspectRatio = this.getAspectRatio();
    this.camera = new THREE.PerspectiveCamera(
      this.fieldOfView,
      aspectRatio,
      this.nearClippingPlane,
      this.farClippingPlane
    )
    this.camera.position.z = this.cameraZ;
  }

  private getAspectRatio() {
    return this.canvas.clientWidth / this.canvas.clientHeight;
  }

  /**
 * Start the rendering loop
 *
 * @private
 * @memberof CubeComponent
 */
  private startRenderingLoop() {
    //* Renderer
    // Use canvas element in template
    this.renderer = new THREE.WebGLRenderer({ canvas: this.canvas });
    this.renderer.setPixelRatio(devicePixelRatio);
    this.renderer.setSize(this.canvas.clientWidth, this.canvas.clientHeight);

    let component: Anime3Component = this;
    (function render() {
      requestAnimationFrame(render);
      component.animateCube();
      component.renderer.render(component.scene, component.camera);
    }());
  }

  constructor() { }

  ngOnInit(): void {

  }

  ngAfterViewInit() {
    this.createScene();
    this.startRenderingLoop();
  }
}
